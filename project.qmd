---
title: "BDA PROJECT"
author: Axel, Linnea, Elissa
format: 
  html:
    toc: true
    code-tools: true
    code-line-numbers: true  
    number-sections: true
    mainfont: Georgia, serif
    page-layout: article
  pdf:  
    geometry:
    - left=1cm,top=1cm,bottom=1cm,right=7cm
    number-sections: true
    code-annotations: none
editor: source
---

# Set up

## Loading the required packages

```{r}
library(ggplot2)
library(dplyr)
```

## Data

```{r}
library(survival)
data(transplant)
```

```{r}
ggplot(transplant, aes(x = futime)) + geom_histogram()
```

```{r}
transplant <- transplant %>%
                  filter(event != 'censored')

bins <- c(0, 100, 200, 300, 400, 500, Inf)

labels <- c('0-100', '101-200', '201-300', '301-400', '401-500', '>500')

transplant <- transplant %>%
  mutate(time_group = cut(futime, breaks = bins, labels = labels, include.lowest = TRUE, right = FALSE))
  
fractions <- transplant %>%
      group_by(time_group, abo) %>%
      summarise(sum(event == 'ltx'), .groups = 'drop')

colnames(fractions) <- c("days", "blood_type", "death")

fractions
```

```{r}
ggplot(fractions, aes(x = days, y = death, group = blood_type, color = blood_type)) + geom_line()
```

SCALE DATA??? SCALE BASED ON NUM BLOOD TYPE? 